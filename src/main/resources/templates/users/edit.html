<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head th:insert="fragments/components :: links"></head>
<body data-aos-easing="slide" data-aos-duration="800" data-aos-delay="0">
<div id="colorlib-page">
    <div>

        <aside id="colorlib-aside2" role="complementary" class="sidenav closebtn" style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776;</aside>
        <aside id="colorlib-aside" role="complementary" class="sidenav js-fullheight help-h" style="height: 939px;">
            <a style="position: relative;bottom: 70px;left: 250px; font-size: 30px" href="javascript:void(0)" class="closebtn hide-h" onclick="closeNav()">&times;</a>
            <div th:if="${usersRole} == ROLE_USER">
                <nav id="colorlib-main-menu" role="navigation">
                    <ul>
                        <li class="colorlib-active"><a th:href="@{/}" th:text="'Main page'"></a></li>
                        <li><a th:href="@{/books}" th:text="'Show all books'"> </a></li>
                        <li ><a th:href="@{/books/new}"  th:text="'Add new Book'"></a></li>
                    </ul>
                </nav>
            </div>
            <div th:if="${usersRole} == ROLE_ADMIN">
                <nav id="colorlib-main-menu" role="navigation">
                    <ul>
                        <li ><a th:href="@{/}" th:text="'Main page'"></a></li>
                        <li><a th:href="@{/books}" th:text="'Show all books'" > </a></li>
                        <li class="colorlib-active"><a th:href="@{/users}" th:text="'Show all users'" ></a></li>
                        <li><a th:href="@{/books/new}"  th:text="'Add new Book'"></a></li>
                    </ul>
                </nav>
            </div>
            <div class="colorlib-footer">
                <div id="colorlib-logo" class="mb-4">

                    <a th:href="@{/users/personal/{id}(id=${usersId})}" style="background-image: url(/images/bg_1.jpg);">Welcome,
                        <span th:text="${usersName}"></span>
                    </a>
                </div>
                <form th:method="POST" th:action="@{/logout}">
                    <input style="cursor: pointer" type="submit" th:value="'Logout'">
                </form>
            </div>

        </aside>

    </div>
    <div id="colorlib-main">
        <section class="ftco-section img contact-section px-md-4">
            <div class="container">
                <div class="row block-9">
                    <div class="col-lg-6 d-flex">
                        <form th:method="PATCH" th:action="@{/users/{id}(id = ${curUser.getId()})}" class="bg-light p-5 contact-form" th:object="${curUser}">
                            <div class="form-group">
                                <input th:field="*{name}" type="text" class="form-control" placeholder="User`s Name">
                                <div style="color:red" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
                            </div>
                            <div class="form-group">
                                <input th:field="*{email}" type="text" class="form-control" placeholder="Email of publishing">
                                <div style="color:red" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>
                            </div>
                            <div class="form-group">
                                <input th:field="*{login}" type="text" class="form-control" placeholder="Login">
                                <div style="color:red" th:if="${#fields.hasErrors('login')}" th:errors="*{login}"></div>
                            </div>
                            <div class="form-group">
                                <select th:field="*{gender}" >
                                    <option th:each="gender : ${genders}" th:value="${gender}" th:text="${gender}">

                                    </option>
                                </select>
                            </div>
                            <!--<div class="form-group">
                                <textarea th:field="*{image}" name="" id="" cols="30" rows="7" class="form-control" placeholder="Link to Image"></textarea>
                            </div>-->
                            <div class="form-group">
                                <input type="submit" value="Edit" class="btn btn-primary py-3 px-5">
                            </div>
                        </form>

                    </div>
                    <div class="col-lg-6 d-flex">
                        <div class="bg-light p-5 contact-form">
                            <div class="text  ftco-animate fadeInUp ftco-animated">
                                <h2 class="mb-4" style="font-size: 40px;
                                font-family: Poppins, Arial, sans-serif;
                                font-weight: 600;
                                line-height: 1.2;
                                color: #000000;">
                                    <span style="font-weight: 600; color: #1eafed;" th:text="${correctUser.getName()}"></span>
                                    <p th:text="${correctUser.getLogin()}"></p>
                                </h2>
                                <div class="row d-flex " style="flex-wrap: nowrap;">
                                    <div class="col-md-6">
                                        <p>Email</p>

                                    </div>
                                    <div class="col-md-6">
                                        <p th:text="${correctUser.getEmail()}"></p>

                                    </div>

                                </div>
                            </div>
                        </div>


                    </div>


                </div>

            </div>
        </section>
    </div>

</div>
<div id="ftco-loader" class="fullscreen">
    <svg class="circular" width="48px" height="48px">
        <circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"></circle>
        <circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#F96D00"></circle>
    </svg>
</div>
<script type="text/javascript" th:src="@{/js/jquery.min.js}"></script>
<script type="text/javascript" th:src="@{/js/popper.min.js}"></script>
<script type="text/javascript" th:src="@{/js/jquery-migrate-3.0.1.min.js}"></script>
<script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>
<script type="text/javascript" th:src="@{/js/jquery.easing.1.3.js}"></script>
<script type="text/javascript" th:src="@{/js/jquery.waypoints.min.js}"></script>
<script type="text/javascript" th:src="@{/js/jquery.stellar.min.js}"></script>
<script type="text/javascript" th:src="@{/js/owl.carousel.min.js}"></script>
<script type="text/javascript" th:src="@{/js/jquery.magnific-popup.min.js}"></script>
<script type="text/javascript" th:src="@{/js/aos.js}"></script>
<script type="text/javascript" th:src="@{/js/jquery.animateNumber.min.js}"></script>
<script type="text/javascript" th:src="@{/js/scrollax.min.js}"></script>
<script type="text/javascript" th:src="@{/js/main.js}"></script>

<script>function openNav() {
    document.getElementById("colorlib-aside").classList.remove('help-h');
    document.getElementById("colorlib-aside").style.paddingLeft = "2em";
    document.getElementById("colorlib-aside").style.paddingRight = "2em";
}</script>
<script>

    function closeNav() {
        document.getElementById("colorlib-aside").classList.add('help-h');
    }
</script>



</body>
</html>